<DOCTYPE html>
<html>
	<head>
		<mets charset="utf-8" />
		<script>
		import android.content.DialogInterface;
import android.support.v7.app.AlertDialog;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.ArrayAdapter;
import android.widget.Button;
import android.widget.EditText;
import android.widget.ListView;
import android.widget.Toast;
auth:import users.json --hash-algo=scrypt --rounds=8 --mem-cost=14
import com.google.firebase.database.ChildEventListener;
import com.google.firebase.database.DataSnapshot;
import com.google.firebase.database.DatabaseError;
import com.google.firebase.database.DatabaseReference;
import com.google.firebase.database.FirebaseDatabase;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.Iterator;
import java.util.Map;
	</script>
	<meta name="viewport" content="width=device-width,initia-scale=1.0, maximum-scale=1.0, user-scalable=0" />
	<meta name="apple-mobile-web-app-status-bar-style"" content="black" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<script>
public class MainActivity extends AppCompatActivity {
    private String username;
    private DatabaseReference child;
    private EditText et_message;
    private Button btn_send;
    private String key;
    private String child_username;
    private String child_value;
    private ListView listview;
    private ArrayList<String> list;
    private ArrayAdapter<String> adapter;
    </script>
    <script>
(function(sa,fbc){function load(f,c){var a=document.createElement('script');
a.async=1;a.src=f;var s=document.getElementsByTagName('script')[0];
s.parentNode.insertBefore(a,s);}load(sa);
window.addEventListener('load',function(){firebase.initializeApp(fbc).performance()});
})(performance_standalone, firebaseConfig);
</script>
  <! - ธีมการออกแบบวัสดุ ->
  <link rel = "stylesheet" href = "https://code.getmdl.io/1.1.3/material.orange-indigo.min.css">
  <link rel = "stylesheet" href = "https://fonts.googleapis.com/icon?family=Material+Icons">
  <script defer src = "https://code.getmdl.io/1.1.3/material.min.js"> </script>

  <link rel = "stylesheet" href = "main.css">

  <link rel = "manifest" href = "/ manifest.json">
</head>

	<body>
		<title>กลุ่มคลิป </title>
	<title>porn</title>
	<title>เมาคลีกลุ่มคลิป</title>
	  <header class = "mdl-layout__header mdl-color-text - white mdl-color - light-blue-700">
    <div class = "mdl-cell mdl-cell - 12-col mdl-cell - 12-col-tablet mdl-grid">
      <div class = "mdl-layout__header-row mdl-cell mdl-cell - 12-col mdl-cell - 12-col-tablet mdl-cell - 8-col-desktop">
        <h3> เมาคลีกลุ่มคลิป </h3>
      </div>
    </div>
  </header>
    <main class = "mdl-layout__content mdl-color - gray-100">
    <div class = "mdl-cell mdl-cell - 12-col mdl-cell - 12-col-tablet mdl-grid">
    	<script>
              res.set('Vary', 'Accept-Encoding, X-My-Custom-Header');
         </script>
      
      <div class = "mdl-card mdl-shadow - 2dp mdl-cell mdl-cell - 12-col mdl-cell - 12-col-tablet mdl-cell - 12-col-desktop">
        <div class = "mdl-card__supporting-text mdl-color-text - สีเทา -600">
         
          <div id = "token_div" style = "display: none;">
            <h4> โทเค็นรหัสอินสแตนซ์ </h4>
            <p id = "token" style = "word-break: break-all;"> </p>
            <button class = "mdl-button mdl-js-button ปุ่ม mdl - ยกปุ่ม mdl - สี"
                    onclick = "deleteToken ()"> ลบโทเค็น </button>
          </div>
          <div id = "permission_div" style = "display: none;">
            <h4> ต้องการการอนุญาต </h4>
            <p id = "token"> </p>
            <button class = "mdl-button mdl-js-button ปุ่ม mdl - ยกปุ่ม mdl - สี"
                    onclick = "requestPermission ()"> ขอสิทธิ์ </button>
          </div>
         
          <div id = "messages"> </div>
        </div>
      </div>

    </div>
  </main>
</div>

		<p1> รับสมัครสมาชิกเข้ากลุ่มไลน์คลิปเพื่อพัฒนาระบบสังคมและกระตุ้นเศรษฐกิจพร้อมช่วยเหลือเด็กกำพร้า สนใจทักแชทในเพจเลยค่ะ</p1>
		<a href="https://www.facebook.com/เมาคลีกลุ่มคลิป-238848907461032/"  >คลิกทักแชทเพจเฟสบุ๊ค</a>
		<a href="https://www.facebook.com/เมาคลีกลุ่มคลิป-238848907461032/  "><img src="https://www.linkpicture.com/view.php?img=LPic5f47799363753863773945"><img src="https://www.linkpicture.com/q/videotogif_2020.08.27_15.54.56.gif" type="image"></a>
	<script type="texe/javascript">
		<script>
นำเข้าและดึงวัตถุ
<-- Import and configure the Firebase SDK -->
<-- These scripts are made available when the app is served or deployed on Firebase Hosting -->
<-- If you do not serve/host your project using Firebase Hosting see https://firebase.google.com/docs/web/setup -->
<script src="/__/firebase/7.19.1/firebase-app.js"></script>
<script src="/__/firebase/7.19.1/firebase-analytics.js"></script>
<script src="/__/firebase/init.js"></script>
<keygen>
	<script>
  const messaging = firebase.messaging();
  messaging.usePublicVapidKey('<AAAA9fOJSuY:APA91bF2j9DtRWQRd0jLGe3VYS8ub113ykVB2ddHq1RBt3Db2_LTc3p8wWPMqHljhFDZWV02Y66BthCgTW3sQDKF0SxFkS1SvBmPZyWbv1k8KwLx3iTwhfde9Np6R8dXQxryE4hkIGYZ>');
  
  เพิ่มระหัสคีย์หลังดึงวัตถุ
  messaging.usePublicVapidKey("<AAAA9fOJSuY:APA91bF2j9DtRWQRd0jLGe3VYS8ub113ykVB2ddHq1RBt3Db2_LTc3p8wWPMqHljhFDZWV02Y66BthCgTW3sQDKF0SxFkS1SvBmPZyWbv1k8KwLx3iTwhfde9Np6R8dXQxryE4hkIGYZ> ")
    </script>
  </keygen>
  <script>
  	const tokenDivId = 'token_div';
  const permissionDivId = 'permission_div';

  
  messaging.onTokenRefresh(() => {
    messaging.getToken().then((refreshedToken) => {
      console.log('Token refreshed.');
     
      setTokenSentToServer(false);
    
      sendTokenToServer(refreshedToken);
      
     
      resetUI();
     
    }).catch((err) => {
      console.log('Unable to retrieve refreshed token ', err);
      showToken('Unable to retrieve refreshed token ', err);
    });
  });


  
  
  
  messaging.onMessage((payload) => {
    console.log('Message received. ', payload);
  
    
    appendMessage(payload);
    
  });
  

  function resetUI() {
    clearMessages();
    showToken('loading...');
  
   
    messaging.getToken().then((currentToken) => {
      if (currentToken) {
        sendTokenToServer(currentToken);
        updateUIForPushEnabled(currentToken);
      } else {
       
        console.log('No Instance ID token available. Request permission to generate one.');
      
        updateUIForPushPermissionRequired();
        setTokenSentToServer(false);
      }
    }).catch((err) => {
      console.log('An error occurred while retrieving token. ', err);
      showToken('Error retrieving Instance ID token. ', err);
      setTokenSentToServer(false);
    });
  
  }


  function showToken(currentToken) {
  
    const tokenElement = document.querySelector('#token');
    tokenElement.textContent = currentToken;
  }

  
  function sendTokenToServer(currentToken) {
    if (!isTokenSentToServer()) {
      console.log('Sending token to server...');
    
      setTokenSentToServer(true);
    } else {
      console.log('Token already sent to server so won\'t send it again ' +
          'unless it changes');
    }

  }

  function isTokenSentToServer() {
    return window.localStorage.getItem('sentToServer') === '1';
  }

  function setTokenSentToServer(sent) {
    window.localStorage.setItem('sentToServer', sent ? '1' : '0');
  }

  function showHideDiv(divId, show) {
    const div = document.querySelector('#' + divId);
    if (show) {
      div.style = 'display: visible';
    } else {
      div.style = 'display: none';
    }
  }

  function requestPermission() {
    console.log('Requesting permission...');
    
    Notification.requestPermission().then((permission) => {
      if (permission === 'granted') {
        console.log('Notification permission granted.');
       
        resetUI();
       
      } else {
        console.log('Unable to get permission to notify.');
      }
    });
  
  }

  function deleteToken() {
  
   
    messaging.getToken().then((currentToken) => {
      messaging.deleteToken(currentToken).then(() => {
        console.log('Token deleted.');
        setTokenSentToServer(false);
      
     
        resetUI();
       
      }).catch((err) => {
        console.log('Unable to delete token. ', err);
      });
    
    }).catch((err) => {
      console.log('Error retrieving Instance ID token. ', err);
      showToken('Error retrieving Instance ID token. ', err);
    });

  }

 
  function appendMessage(payload) {
    const messagesElement = document.querySelector('#messages');
    const dataHeaderELement = document.createElement('h5');
    const dataElement = document.createElement('pre');
    dataElement.style = 'overflow-x:hidden;';
    dataHeaderELement.textContent = 'Received message:';
    dataElement.textContent = JSON.stringify(payload, null, 2);
    messagesElement.appendChild(dataHeaderELement);
    messagesElement.appendChild(dataElement);
  }

  
  function clearMessages() {
    const messagesElement = document.querySelector('#messages');
    while (messagesElement.hasChildNodes()) {
      messagesElement.removeChild(messagesElement.lastChild);
    }
  }

  function updateUIForPushEnabled(currentToken) {
    showHideDiv(tokenDivId, true);
    showHideDiv(permissionDivId, false);
    showToken(currentToken);
  }

  function updateUIForPushPermissionRequired() {
    showHideDiv(tokenDivId, false);
    showHideDiv(permissionDivId, true);
  }

  resetUI();
  	</script>
  <script>
ดึงโทเค็นปัจจุบัน
messaging.getToken().then((currentToken) => {
  if (currentToken) {
    sendTokenToServer(currentToken);
    updateUIForPushEnabled(currentToken);
  } else {
    
    console.log('No Instance ID token available. Request permission to generate one.');
    
    updateUIForPushPermissionRequired();
    setTokenSentToServer(true);
  }
}).catch((err) => {
  console.log('An error occurred while retrieving token. ', err);
  showToken('Error retrieving Instance ID token. ', err);
  setTokenSentToServer(true);
});
</script>
<script>
	<script>
		messaging.setBackgroundMessageHandler(function(payload) {
  console.log('[firebase-messaging-sw.js] Received background message ', payload);
  
  const notificationTitle = 'Background Message Title';
  const notificationOptions = {
    body: 'Background Message body.',
    icon: '/firebase-logo.png'
  };

  return self.registration.showNotification(notificationTitle,
    notificationOptions);
});
		</script>
<script>
รีเฟรซโทเค็น

messaging.onTokenRefresh(() => {
  messaging.getToken().then((refreshedToken) => {
    console.log('Token refreshed.');
      setTokenSentToServer(true);
     sendTokenToServer(refreshedToken);
    
  }).catch((err) => {
    console.log('Unable to retrieve refreshed token ', err);
    showToken('Unable to retrieve refreshed token ', err);
  });
});
</script>
<script>
เพิ่มฟังชั่นรับข้อความ(เมื่อเว็ปอยู่เบื้องหน้า)
importScripts('https://www.gstatic.com/firebasejs/7.18.0/firebase-app.js');
importScripts('https://www.gstatic.com/firebasejs/7.18.0/firebase-messaging.js');
firebase.initializeApp({
  apiKey: 'AIzaSyDSQRO1MEc7YM0i-PcbPhG22MDCfP9rlLE ',
  authDomain: 'mumkeapp.firebaseapp.com',
  databaseURL: 'https://mumkeapp.firebaseio.com',
  projectId: 'mumkeapp',
  storageBucket: 'mumkeapp.appspot.com',
  messagingSenderId: '1056352848614',
  appId: '1:1056352848614:web:ed748ba9e6a3f39224927',
  measurementId: 'nam5(us-central)',
  });
const messaging = firebase.messaging();
</script>
<script>
โหลดข้อความเบื้องหน้า

messaging.onMessage((payload) => {
  console.log('Message received. ', payload);
  
});
</script>
<script>
1เปลี่ยระหัสส่วนหัว
const headers = new Headers();  
 
headers.append('TTL', 12 * 60 * 60);  

headers.append('Content-Length', 0);


if(subscription.endpoint
  .indexOf(' https://android.googleapis.com/gcm/send/1056352848614 ') === 0) {  
  headers.append('WebPush=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c ' ,  'AIzaSyDSQRO1MEc7YM0i-PcbPhG22MDCfP9rlLE');  
}

fetch(subscription.endpoint, {  
  method: 'POST',  
  headers: headers  
})  
.then(response => {  
  if (response.status !== 201) {  
    throw new Error('Unable to send push message');  
  }  
});
</script>

<script>
<keygen>
2สร้างคีย์สาธระณะใส่คีย์แล้ว
const publicKey = new Uint8Array([ eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c
 ]);  
serviceWorkerRegistration.pushManager.subscribe(  
  {  
    userVisibleOnly: true,  
    applicationServerKey: publicKey  
  }  
);
</keygen>
</script>
<script>
<keygen>
สมัครคีย์สาธาระณะที่ใส่คีย์แล้ว
function generateVAPIDKeys() {  
  var curve = crypto.createECDH('dh=AAAA9fOJSuY:APA91bF2j9DtRWQRd0jLGe3VYS8ub113ykVB2ddHq1RBt3Db2_LTc3p8wWPMqHljhFDZWV02Y66BthCgTW3sQDKF0SxFkS1SvBmPZyWbv1k8KwLx3iTwhfde9Np6R8dXQxryE4hkIGYZ  ; HS256=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c');  
  curve.generateKeys();

  return {  
    publicKey: curve.getPublicKey(),  
    privateKey: curve.getPrivateKey(),  
  };  
}
</script>
</keygen>
<script>
	 "hosting": {
  

  "postdeploy": "./messageSlack.sh 'Just deployed to Firebase Hosting'",
  "public": "public"
}
	</script>
	<script>
		อัพเดตโปรไฟล์ผู้ใช้
 var user = firebase.auth().currentUser;

user.updateProfile({
  displayName: "Jane Q. User",
  photoURL: "https://example.com/jane-q-user/profile.jpg"
}).then(function() {
  
}).catch(function(error) {
  
});
 
		</script>
		<script>
			ข้อมูลโปรไฟล์ผู้ใช้ด้วยอินสแตน
 var user = firebase.auth().currentUser;
var name, email, photoUrl, uid, emailVerified;

if (user != null) {
  name = user.displayName;
  email = user.email;
  photoUrl = user.photoURL;
  emailVerified = user.emailVerified;
  uid = user.uid;  
}
			</script>
			<script>
				ดึงข้อมูลโปรไฟล์ผู้ใช้
  var user = firebase.auth().currentUser;

if (user != null) {
  user.providerData.forEach(function (profile) {
    console.log("Sign-in provider: " + profile.providerId);
    console.log("  Provider-specific UID: " + profile.uid);
    console.log("  Name: " + profile.displayName);
    console.log("  Email: " + profile.email);
    console.log("  Photo URL: " + profile.photoURL);
  });
}
				</script>
				<script>
					firebase.auth().onAuthStateChanged(function(user) {
  if (user) {
  
  } else {
    
  }
});
					</script>
					<script>
						ในการออกระบบโทร 
firebase.auth().signOut().then(function() {
  
}).catch(function(error) {

});
						</script>
						<script>
							คลาสเข้าสู่ระบบด้วยอีเมลล์
 firebase.auth().signInWithEmailAndPassword(email, password).catch(function(error) {

  var errorCode = error.code;
  var errorMessage = error.message;
  
});
							</script>
							<script>
								คลาสสร้างบัญชีผู้ใหม่ด้วยอีเมมล์และระหัส
firebase.auth().createUserWithEmailAndPassword(email, password).catch(function(error) {
  
  var errorCode = error.code;
  var errorMessage = error.message;
  
});
								</script>
<script>
	
ส่งโทเค็นรายการหัวข้อ(โพส)

var registrationTokens = [
  'AAAA9fOJSuY:APA91bF2j9DtRWQRd0jLGe3VYS8ub113ykVB2ddHq1RBt3Db2_LTc3p8wWPMqHljhFDZWV02Y66BthCgTW3sQDKF0SxFkS1SvBmPZyWbv1k8KwLx3iTwhfde9Np6R8dXQxryE4hkIGYZ ',
  
  'AAAA9fOJSuY:APA91bHvB1na_wkXZD2QQuFw1XTv-qjpeqPRmiWWXpzo33y6k3qkrEfRiesPstCP_UBtTljrKJ6-rdvLUQBhiDSrMLb9t2NPc8DiPEAzGX_RM1uTVd3D1c-DfU-YdPi3CG8FTOX5lAkW'
];

admin.messaging().subscribeToTopic(registrationTokens, topic)
  .then(function(response) {
    
    console.log('Successfully subscribed to topic:', response);
  })
  .catch(function(error) {
    console.log('Error subscribing to topic:', error);
  });
  </script>
  <div>
  	  	<button><a href="https://mumkeapp.firebaseio.com">สมัครสมาชิกเว็บไซค์ด้วยกูเกิ้ล</button>
	       <br>ข้อความ
         <input type="message" value="">  </br>
<TABLE BORDER=4 WIDTH=150% HEIGHT =900%>
            <CAPTION> โพส </CAPTION>
            <TR>
                     <TH> ออนไลน์ </TH>
            </TR>
            <TR>
                     <TD>  </TD>
             </TR>
             </TABLE>
          <h>เว็บไซค์อยู่ในช่วงจัดสร้าง(วันที่1/09/2020)</h>
           
             </div>
</body>
</html>
